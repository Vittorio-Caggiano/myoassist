<mujocoinclude>
	<!-- =================================================
    Copyright 2024 Vikash Kumar
    Model   :: UT Exo (Sinistro)
    Author  :: Vikash Kumar (vikashplus@gmail.com)
    source  :: https://github.com/vikashplus
    License :: contact vikashplus@gmail.com
====================================================== -->

	<asset>
		<mesh name="part1_sx" file="../exo_sim/ankle/meshes/part1_zaxis_no_spring.stl" scale="-.001 .001 .001"/>
		<mesh name="part2_sx" file="../exo_sim/ankle/meshes/part2_zaxis.stl" scale="-.001 .001 .001"/>
		<mesh name="part3_sx" file="../exo_sim/ankle/meshes/part3_zaxis.stl" scale="-.001 .001 .001" />
	</asset>

	<default>
		<default class="ut_exo_sx">
			<geom margin="0.001" rgba="0.5 0.35 0.4 1" conaffinity="0" contype="0"/>
			<joint armature="0.00001" limited="true"/> 
			<tendon rgba=".3 .3 .4 1" width=".005" limited="true"/>
			<default class="ut_exo_coll_sx">
				<geom type="capsule" group="4" contype="1" conaffinity="0" condim="3" rgba="0.5 0.6 .7 .4" margin="0.001"/>
			</default>
		</default>
		
	</default>

	<tendon>
		<spatial name="part2part3attach_sx" range ="0.04 0.06" class="ut_exo_sx" stiffness = "25000" 
				solreflimit ="0.002 1.0" solimplimit="0.9 0.95 0.01" rgba="0.8 0.8 0.8 1.0">
			<site site="part1_attach_sx"/>
			<site site="part3_attach_sx"/>
		</spatial>

		<spatial name="part3part4attach_sx" limited="false" class="ut_exo_sx">
			<site site="part3_attach_sx"/>
			<site site="part2_attach_sx"/>
		</spatial>
	</tendon>

	<!-- <sensor>
		<tendonpos name="Cable_length_sx" tendon="part3part4attach_sx"/>
		<tendonvel name="Cable_velocity_sx" tendon="part3part4attach_sx"/>
		<tendonpos name="spring_length_sx" tendon="part2part3attach_sx"/>
		<tendonvel name="spring_velocity_sx" tendon="part2part3attach_sx"/>
		<force name="force_p3_to_p1_on_p3_sx" site="part3_to_part1_on_parent_sx"/>
		<torque name="torque_at_the_joint_sx" site="part2_to_part3_encoder_sx"/>
		<force name="force_on_load_cell_sx" site="part1_attach_dx"/>
		<force name="force_p3_to_p1_on_p1_sx" site="part3_to_part1_on_part1_sx"/>
		<force name="force_tendon_to_p2_sx" site="part2_attach_sx"/>
	</sensor> -->

	<actuator>
		<general name="part2part3act_sx" tendon="part3part4attach_sx" ctrlrange="-1 0.00" dyntype="filter"
           dynprm="0.07"
           gainprm="600.0"
           biastype="none"/>
	</actuator>

</mujocoinclude>
