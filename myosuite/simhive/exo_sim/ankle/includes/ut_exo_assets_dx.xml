<mujocoinclude>
	<!-- =================================================
    Copyright 2024 Vikash Kumar
    Model   :: UT Exo
    Author  :: Vikash Kumar (vikashplus@gmail.com)
    source  :: https://github.com/vikashplus
    License :: contact vikashplus@gmail.com
====================================================== -->
<!-- PREVIOUS: -->
	<asset>
		<mesh name="part1_dx" file="../exo_sim/ankle/meshes/part1_zaxis_no_spring.stl" scale=".001 .001 .001"/>
		<mesh name="part2_dx" file="../exo_sim/ankle/meshes/part2_zaxis.stl" scale=".001 .001 .001"/>
		<mesh name="part3_dx" file="../exo_sim/ankle/meshes/part3_zaxis.stl" scale=".001 .001 .001"/>

		<!--<mesh name="part11" file ="../exo_sim/ankle/meshes/part1_zaxis_coll.stl" scale=".001 .001 .001"/>
		<mesh name="part22" file ="../exo_sim/ankle/meshes/part2_zaxis_coll.stl" scale=".001 .001 .001"/>
		<mesh name="part33" file ="../exo_sim/ankle/meshes/part3_zaxis_coll.stl" scale=".001 .001 .001"/>-->

	</asset>

	<default>
		<default class="ut_exo_dx">
			<geom margin="0.001" rgba="0.5 0.35 0.4 1" conaffinity="0" contype="0"/>
			<!-- damping="0.002" LO SEPAREREI PER I DUE JOINTS -->
			<joint armature="0.00001" limited="true"/> 
			<tendon rgba=".3 .3 .4 1" width=".005" limited="true"/>
			<default class="ut_exo_coll_dx">
				<geom type="capsule" group="4" contype="1" conaffinity="0" condim="3" rgba="0.5 0.6 .7 .4" margin="0.001"/>
			</default>
		</default>
	</default>

	<tendon>
	<!-- damping = "1" NON CAMBIA NULLA, io non lo metterei
	solreflimit ="0.002 1.0" solimplimit="0.9 0.95 0.01"
	-->
		<spatial name="part2part3attach_dx" range ="0.04 0.06" class="ut_exo_dx" stiffness = "25000" 
				solreflimit ="0.002 1.0" solimplimit="0.9 0.95 0.01" rgba="0.8 0.8 0.8 1.0">
			<site site="part1_attach_dx"/>
			<site site="part3_attach_dx"/>
		</spatial>

		<spatial name="part3part4attach_dx" limited="false" class="ut_exo_dx" >
			<site site="part3_attach_dx"/>
			<site site="part2_attach_dx"/>
		</spatial>
	</tendon>
	
	<!-- <sensor>
		<tendonpos name="Cable_length_dx" tendon="part3part4attach_dx"/>
		<tendonvel name="Cable_velocity_dx" tendon="part3part4attach_dx"/>
		<tendonpos name="spring_length_dx" tendon="part2part3attach_dx"/>
		<tendonvel name="spring_velocity_dx" tendon="part2part3attach_dx"/>
		<force name="force_p3_to_p1_on_p3_dx" site="part3_to_part1_on_parent_dx"/>
		<torque name="torque_at_the_joint_dx" site="part2_to_part3_encoder_dx"/>
		<force name="force_on_load_cell_dx" site="part1_attach_dx"/>
		<force name="force_p3_to_p1_on_p1_dx" site="part3_to_part1_on_part1_dx"/>
		<force name="force_tendon_to_p2_dx" site="part2_attach_dx"/>
	</sensor> -->

	<actuator>
		<general name="part2part3act_dx" tendon="part3part4attach_dx" ctrlrange="-1 0.00" dyntype="filter"
           dynprm="0.07"
           gainprm="600.0"
           biastype="none"/>
	</actuator>

	</mujocoinclude> 

	