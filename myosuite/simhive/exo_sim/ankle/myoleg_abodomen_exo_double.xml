<mujoco model="myoleg_abdomen_exo">
<!-- =================================================
    Copyright 2024 Vikash Kumar
    Model   :: Exo over MyoLegs with abdomen
    Author  :: Vikash Kumar (vikashplus@gmail.com)
    source  :: https://github.com/vikashplus
    License :: contact vikashplus@gmail.com
====================================================== -->

    <!-- <include file="../exo/assets/scene.xml"/> -->
    <include file="../../myo_sim/scene/myosuite_scene_noPedestal.xml"/>
    <include file="../../exo_sim/ankle/includes/ut_exo_assets_dx.xml"/>
    <include file="../../exo_sim/ankle/includes/ut_exo_assets_sx.xml"/>
    <include file="../../myo_sim/torso/assets/myotorso_abdomen_assets.xml"/>
    <include file="../../myo_sim/leg/assets/myolegs_assets.xml"/>
    <include file="../../myo_sim/leg/assets/myolegs_tendon.xml"/>
    <include file="../../myo_sim/leg/assets/myolegs_muscle.xml"/>


    <compiler angle="radian" meshdir=".." texturedir=".."/>

    <worldbody>

        <body name="myoleg_root" pos="0 0 1" euler="0 0 -1.57">
            <freejoint name="myoleg_root"/>
            <include file="../../myo_sim/torso/assets/myotorso_abdomen_chain.xml"/>
            <include file="../../myo_sim/leg/assets/myolegs_chain.xml"/>
        </body>

        <body name="utexo_root_dx" pos="-.15 .03 0" euler="0 0 2.9">
            <freejoint name="utexo_root_dx"/>
            <include file="../../exo_sim/ankle/includes/ut_exo_chain_dx.xml"/>
        </body>

        <body name="utexo_root_sx" pos=".1 .27 0" euler="0 0 0.2">
            <freejoint name="utexo_root_sx"/>
            <include file="../../exo_sim/ankle/includes/ut_exo_chain_sx.xml"/>
        </body>

    </worldbody>


    <equality>
 
        <!--
        weld = attaches two bodies to each other, removing all relative degrees of freedom between them
        connect = equality constraint that connects two bodies at a point -->

        <!-- EXO_L:-->
        <!-- <weld body2="part3_dx" body1="calcn_r"/> --> 

        <connect body1="part3_sx" anchor="-0.17 0.05 0.005" body2="calcn_l"/>

        <connect body1="part3_sx" anchor="-0.25 0.05 0.004" body2="talus_l"/>

        <connect body1="part2_sx" anchor="-.24 .05 .1" body2="tibia_l"/>

         <!-- EXO_R:-->
        <!-- <weld body1="calcn_r" body2="part3_dx"/> -->

        <connect body1="part3_dx" anchor="-0.071 0.05 0.005" body2="calcn_r"/>

        <connect body1="part3_dx" anchor="0.005 0.06 0.005" body2="talus_r"/>
        
        <connect body1="part2_dx" anchor=".012 .05 .1" body2="tibia_r"/> 

    </equality>

</mujoco>
